{"ast":null,"code":"import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Todo(props){const{todo,setTodos}=props;const updateTodo=async(todoId,todoStatus)=>{const res=await fetch(\"/api/todos/\".concat(todoId),{method:\"PUT\",body:JSON.stringify({status:todoStatus}),headers:{\"Content-Type\":\"application/json\"}});const json=await res.json();if(json.acknowledged){setTodos(currentTodos=>{return currentTodos.map(currentTodo=>{if(currentTodo._id===todoId){return{...currentTodo,status:!currentTodo.status};}return currentTodo;});});}};const deleteTodo=async todoId=>{const res=await fetch(\"/api/todos/\".concat(todoId),{method:\"DELETE\"});const json=await res.json();if(json.acknowledged){setTodos(currentTodos=>{return currentTodos.filter(currentTodo=>currentTodo._id!==todoId);});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"todo\",children:[/*#__PURE__*/_jsx(\"p\",{children:todo.todo}),/*#__PURE__*/_jsxs(\"div\",{className:\"mutations\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"todo__status\",onClick:()=>updateTodo(todo._id,todo.status),children:todo.status?\"‚òë\":\"‚òê\"}),/*#__PURE__*/_jsx(\"button\",{className:\"todo__delete\",onClick:()=>deleteTodo(todo._id),children:\"\\uD83D\\uDDD1\\uFE0F\"})]})]});}","map":{"version":3,"names":["Todo","props","todo","setTodos","updateTodo","todoId","todoStatus","res","fetch","concat","method","body","JSON","stringify","status","headers","json","acknowledged","currentTodos","map","currentTodo","_id","deleteTodo","filter","_jsxs","className","children","_jsx","onClick"],"sources":["C:/Users/harto/Desktop/proiect react/client/src/Todo.jsx"],"sourcesContent":["\r\n\r\nexport default function Todo(props) {\r\n    const { todo, setTodos } = props;\r\n\r\n    const updateTodo = async (todoId, todoStatus) => {\r\n        const res = await fetch(`/api/todos/${todoId}`, {\r\n            method: \"PUT\",\r\n            body: JSON.stringify({ status: todoStatus }),\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n        });\r\n\r\n        const json = await res.json();\r\n        if (json.acknowledged) {\r\n            setTodos(currentTodos => {\r\n                return currentTodos.map((currentTodo) => {\r\n                    if (currentTodo._id === todoId) {\r\n                        return { ...currentTodo, status: !currentTodo.status };\r\n                    }\r\n                    return currentTodo;\r\n                });\r\n            });\r\n        }\r\n    };\r\n\r\n    const deleteTodo = async (todoId) => {\r\n        const res = await fetch(`/api/todos/${todoId}`, {\r\n            method: \"DELETE\"\r\n        });\r\n        const json = await res.json();\r\n        if (json.acknowledged) {\r\n            setTodos(currentTodos => {\r\n                return currentTodos\r\n                .filter((currentTodo) => (currentTodo._id !== todoId));\r\n            })\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"todo\">\r\n            <p>{todo.todo}</p>\r\n            <div className=\"mutations\">\r\n                <button\r\n                    className=\"todo__status\"\r\n                    onClick={() => updateTodo(todo._id, todo.status)}\r\n                >\r\n                    {(todo.status) ? \"‚òë\" : \"‚òê\"}\r\n                </button>\r\n                <button\r\n                    className=\"todo__delete\"\r\n                    onClick={() => deleteTodo(todo._id)}\r\n                >\r\n                    üóëÔ∏è\r\n                </button>\r\n            </div>\r\n        </div>\r\n    )\r\n}"],"mappings":"wFAEA,cAAe,SAAS,CAAAA,IAAIA,CAACC,KAAK,CAAE,CAChC,KAAM,CAAEC,IAAI,CAAEC,QAAS,CAAC,CAAGF,KAAK,CAEhC,KAAM,CAAAG,UAAU,CAAG,KAAAA,CAAOC,MAAM,CAAEC,UAAU,GAAK,CAC7C,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAC,KAAK,eAAAC,MAAA,CAAeJ,MAAM,EAAI,CAC5CK,MAAM,CAAE,KAAK,CACbC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEC,MAAM,CAAER,UAAW,CAAC,CAAC,CAC5CS,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CACJ,CAAC,CAAC,CAEF,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAT,GAAG,CAACS,IAAI,CAAC,CAAC,CAC7B,GAAIA,IAAI,CAACC,YAAY,CAAE,CACnBd,QAAQ,CAACe,YAAY,EAAI,CACrB,MAAO,CAAAA,YAAY,CAACC,GAAG,CAAEC,WAAW,EAAK,CACrC,GAAIA,WAAW,CAACC,GAAG,GAAKhB,MAAM,CAAE,CAC5B,MAAO,CAAE,GAAGe,WAAW,CAAEN,MAAM,CAAE,CAACM,WAAW,CAACN,MAAO,CAAC,CAC1D,CACA,MAAO,CAAAM,WAAW,CACtB,CAAC,CAAC,CACN,CAAC,CAAC,CACN,CACJ,CAAC,CAED,KAAM,CAAAE,UAAU,CAAG,KAAO,CAAAjB,MAAM,EAAK,CACjC,KAAM,CAAAE,GAAG,CAAG,KAAM,CAAAC,KAAK,eAAAC,MAAA,CAAeJ,MAAM,EAAI,CAC5CK,MAAM,CAAE,QACZ,CAAC,CAAC,CACF,KAAM,CAAAM,IAAI,CAAG,KAAM,CAAAT,GAAG,CAACS,IAAI,CAAC,CAAC,CAC7B,GAAIA,IAAI,CAACC,YAAY,CAAE,CACnBd,QAAQ,CAACe,YAAY,EAAI,CACrB,MAAO,CAAAA,YAAY,CAClBK,MAAM,CAAEH,WAAW,EAAMA,WAAW,CAACC,GAAG,GAAKhB,MAAO,CAAC,CAC1D,CAAC,CAAC,CACN,CACJ,CAAC,CAED,mBACImB,KAAA,QAAKC,SAAS,CAAC,MAAM,CAAAC,QAAA,eACjBC,IAAA,MAAAD,QAAA,CAAIxB,IAAI,CAACA,IAAI,CAAI,CAAC,cAClBsB,KAAA,QAAKC,SAAS,CAAC,WAAW,CAAAC,QAAA,eACtBC,IAAA,WACIF,SAAS,CAAC,cAAc,CACxBG,OAAO,CAAEA,CAAA,GAAMxB,UAAU,CAACF,IAAI,CAACmB,GAAG,CAAEnB,IAAI,CAACY,MAAM,CAAE,CAAAY,QAAA,CAE/CxB,IAAI,CAACY,MAAM,CAAI,GAAG,CAAG,GAAG,CACtB,CAAC,cACTa,IAAA,WACIF,SAAS,CAAC,cAAc,CACxBG,OAAO,CAAEA,CAAA,GAAMN,UAAU,CAACpB,IAAI,CAACmB,GAAG,CAAE,CAAAK,QAAA,CACvC,oBAED,CAAQ,CAAC,EACR,CAAC,EACL,CAAC,CAEd"},"metadata":{},"sourceType":"module","externalDependencies":[]}